<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">




	<h:form id="formDialogNecessidade">		
	<p:dialog header="Registro de Necessidades" widgetVar="dialogNecessidades" modal="true" width="65%" styleClass="dialogNecessidade" >
		 <p:ajax event="close" update=":idFormNecessidades" />
		 <p:growl id="idGrowlNecessidade" autoUpdate="true" widgetVar="growlNecessidade" /> 
		 
		<div class="col-lg-12" >
			<div class="alert alert-dismissable alert-info">
				#{usuarioControle.projetoSelecionado.nome}
				<p style='padding-left: 30px; font-size: 1.2em'>
					#{usuarioControle.projetoSelecionado.descricao}
				</p>
				Objetivo/Justificativa:
				<p style='padding-left: 30px;'>
					#{usuarioControle.projetoSelecionado.justificativa}
				</p>
			</div>
		</div>
		
		<div class="col-lg-12" >
			<p class="alerts-text">
			Relacione suas necessidades de informação de TIC para o Projeto 
			</p>
		</div>
		<div class="col-lg-12" style="padding-top: 15px">
			<p:outputLabel for="necessidade" styleClass="col-lg-2" value="Necessidade:"></p:outputLabel>
		    <div class="col-lg-10">
	               <p:inputText class="form-control" placeholder="Nome da Necessidade" maxlength="200"
	               		id="necessidade" value="#{usuarioControle.necessidade.titulo}"/>
		    </div>
		</div>
		<div class="col-lg-12">
			<p:outputLabel for="descricao" styleClass="col-lg-2" value="Descrição:"></p:outputLabel>
		    <div class="col-lg-10">
	               <p:inputTextarea styleClass="form-control" id="descricao" maxlength="500"
	               		placeholder="Qual a necessidade (nível tático/gerencial) que você descreveria para a melhoria das atividades e ações de TIC no CNPq? " 
	               		value="#{usuarioControle.necessidade.descricao}" rows="3" cols="30" ></p:inputTextarea>
		    </div>
		</div>
		<div class="col-lg-12">
			<p:outputLabel for="justificativa" styleClass="col-lg-2" value="Justificativa:"></p:outputLabel>
		    <div class="col-lg-10">
	               <p:inputTextarea styleClass="form-control" id="justificativa" maxlength="1000" 
	               		placeholder="Finalize com uma breve justificativa que poderemos utilizar para priorizar a necessidade ao desenvolvimento de projetos  de TIC." 
	               		value="#{usuarioControle.necessidade.justificativa}" rows="3" cols="30" ></p:inputTextarea>
		    </div>
		</div>
	    <div class="col-lg-12 text-right " style="padding-top: 10px; font-size: 1.2em">
			<p:commandButton value="Incluir" oncomplete="acionarBotaoFechar()"
	       	    rendered="#{usuarioControle.cenario.inclusao}"	action="#{usuarioControle.salvarNecessidade}" styleClass="btn btn-info" >
	       	</p:commandButton>						
			<p:commandButton value="Alterar" 
	       	    rendered="#{usuarioControle.cenario.edicao}"	action="#{usuarioControle.editarNecessidade()}" styleClass="btn btn-info" >
	       	</p:commandButton>						
			<p:commandButton value="Excluir" 
	       	    rendered="#{usuarioControle.cenario.exclusao}"	action="#{usuarioControle.excluirNecessidade()}" styleClass="btn btn-warning" >
	       	</p:commandButton>				
			<p:commandButton value="Cancelar" id='idBotaoCancelar'
	       	    action="#{usuarioControle.sairViewNecessidade()}" styleClass="btn btn-default" >
	       	</p:commandButton>				
	       			
	   	</div>
	
	</p:dialog>
	</h:form>	
	

    <script type="text/javascript">
	    $(document).ready(function(){
			$( '#idCancelar' ).click(function() {
				$(".ui-dialog-content").hide();
			});
		});
		function acionarBotaoFechar(){
			$( '#formDialogNecessidade:idBotaoCancelar' ).click();
		}
    </script>

</ui:composition>